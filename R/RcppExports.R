# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

add_dosing_ <- function(eventTable, dose, nbr_doses = 1L, dosing_interval = 24, dosing_to = 1L, rate = NULL, amount_units = NA_character_, start_time = 0.0, do_sampling = FALSE, time_units = NA_character_) {
    .Call(`_RxODE_add_dosing_`, eventTable, dose, nbr_doses, dosing_interval, dosing_to, rate, amount_units, start_time, do_sampling, time_units)
}

add_sampling_ <- function(eventTable, time, time_units = NA_character_) {
    .Call(`_RxODE_add_sampling_`, eventTable, time, time_units)
}

foceiInnerLp <- function(eta, id = 1L) {
    .Call(`_RxODE_foceiInnerLp`, eta, id)
}

likInner <- function(eta, id = 1L) {
    .Call(`_RxODE_likInner`, eta, id)
}

cholSE0 <- function(Ao, E, A, tol) {
    .Call(`_RxODE_cholSE0`, Ao, E, A, tol)
}

cholSE_ <- function(A, tol) {
    .Call(`_RxODE_cholSE_`, A, tol)
}

foceiLik <- function(theta) {
    .Call(`_RxODE_foceiLik`, theta)
}

foceiOfv <- function(theta) {
    .Call(`_RxODE_foceiOfv`, theta)
}

foceiEtas <- function() {
    .Call(`_RxODE_foceiEtas`)
}

foceiNumericGrad <- function(theta) {
    .Call(`_RxODE_foceiNumericGrad`, theta)
}

foceiSetup_ <- function(obj, data, theta, thetaFixed = NULL, skipCov = NULL, rxInv = NULL, lower = NULL, upper = NULL, etaMat = NULL, control = NULL) {
    .Call(`_RxODE_foceiSetup_`, obj, data, theta, thetaFixed, skipCov, rxInv, lower, upper, etaMat, control)
}

foceiOuterF <- function(theta) {
    .Call(`_RxODE_foceiOuterF`, theta)
}

foceiOuterG <- function(theta) {
    .Call(`_RxODE_foceiOuterG`, theta)
}

foceiOuter <- function(e) {
    .Call(`_RxODE_foceiOuter`, e)
}

#' Return the square root of general square matrix A
#'
#' @param m Matrix to take the square root of.
#' @export
sqrtm <- function(m) {
    .Call(`_RxODE_sqrtm`, m)
}

foceiCalcCov <- function(e) {
    .Call(`_RxODE_foceiCalcCov`, e)
}

#' Fit/Evaulate FOCEi 
#'
#' This shouldn't be called directly.
#'
#' @param e Enviornment 
#'
#' @keywords internal
#' @export
foceiFitCpp_ <- function(e) {
    .Call(`_RxODE_foceiFitCpp_`, e)
}

coxBox_ <- function(x = 1L, lambda = 1, yj = 0L) {
    .Call(`_RxODE_coxBox_`, x, lambda, yj)
}

#' Check the type of an object using Rcpp
#'
#' @param obj Object to check
#' @param cls Type of class.  Only s3 classes for lists/environments and primitive classes are checked.
#'    For matrix types they are distinguished as \code{numeric.matrix}, \code{integer.matrix},
#'    \code{logical.matrix}, and \code{character.matrix} as well as the traditional \code{matrix}
#'    class. Additionally checks for \code{event.data.frame} which is an \code{data.frame} object
#'    with \code{time},  \code{evid} and \code{amt}. (UPPER, lower or Title cases accepted)
#'
#' @return A boolean indicating if the object is a member of the class.
#' @keywords internal
#' @author Matthew L. Fidler
#' @export
rxIs <- function(obj, cls) {
    .Call(`_RxODE_rxIs`, obj, cls)
}

dynLoad <- function(dll) {
    .Call(`_RxODE_dynLoad`, dll)
}

rxModelVars_ <- function(obj) {
    .Call(`_RxODE_rxModelVars_`, obj)
}

#' State variables
#'
#' This returns the model's compartments or states.
#'
#' @inheritParams rxModelVars
#'
#' @param state is a string indicating the state or compartment that
#'     you would like to lookup.
#'
#' @return If state is missing, return a character vector of all the states.
#'
#' If state is a string, return the compartment number of the named state.
#'
#' @seealso \code{\link{RxODE}}
#'
#' @author Matthew L.Fidler
#' @export
rxState <- function(obj = NULL, state = NULL) {
    .Call(`_RxODE_rxState`, obj, state)
}

rxParams_ <- function(obj) {
    .Call(`_RxODE_rxParams_`, obj)
}

#' Jacobian and parameter derivatives
#'
#' Return Jacobain and parameter derivatives
#'
#' @inheritParams rxModelVars
#'
#' @return A list of the jacobian parameters defined in this RxODE
#'     object.
#' @author Matthew L. Fidler
#' @export
rxDfdy <- function(obj) {
    .Call(`_RxODE_rxDfdy`, obj)
}

#' Left handed Variables
#'
#' This returns the model calculated variables
#'
#' @inheritParams rxModelVars
#'
#' @return a character vector listing the calculated parameters
#' @seealso \code{\link{RxODE}}
#'
#' @author Matthew L.Fidler
#' @export
rxLhs <- function(obj) {
    .Call(`_RxODE_rxLhs`, obj)
}

#' Initial Values and State values for a RxODE object
#'
#' Returns the initial values of the rxDll object
#'
#' @param obj rxDll, RxODE, or named vector representing default
#'     initial arguments
#'
#' @param vec If supplied, named vector for the model.
#'
#' @param req Required names, and the required order for the ODE solver
#'
#' @param defaultValue a number or NA representing the default value for
#'     parameters missing in \code{vec}, but required in \code{req}.
#'
#' @param noerror is a boolean specifying if an error should be thrown
#'     for missing parameter values when \code{default} = \code{NA}
#'
#' @keywords internal
#' @author Matthew L.Fidler
#' @export
rxInits <- function(obj, vec = NULL, req = NULL, defaultValue = 0, noerror = FALSE, noini = FALSE, rxLines = FALSE) {
    .Call(`_RxODE_rxInits`, obj, vec, req, defaultValue, noerror, noini, rxLines)
}

#' Setup the initial conditions.
#'
#' @param obj RxODE object
#' @param inits A numeric vector of initial conditions.
#' @author Matthew L. Fidler
#' @keywords internal
#' @export
rxSetupIni <- function(obj, inits = NULL) {
    .Call(`_RxODE_rxSetupIni`, obj, inits)
}

#' Setup the initial conditions.
#'
#' @param obj RxODE object
#' @param inits A numeric vector of initial conditions.
#' @param extraArgs A list of extra args to parse for initial conditions.
#' @author Matthew L. Fidler
#' @keywords internal
#' @export
rxSetupScale <- function(obj, scale = NULL, extraArgs = NULL) {
    .Call(`_RxODE_rxSetupScale`, obj, scale, extraArgs)
}

#' Sample a covariance Matrix from the Posteior Inverse Wishart distribution.
#'
#' Note this Inverse wishart rescaled to match the original scale of the covariance matrix.
#'
#' If your covariance matrix is a 1x1 matrix, this uses an scaled inverse chi-squared which 
#' is equivalent to the Inverse Wishart distribution in the uni-directional case.
#'
#' @param nu Degrees of Freedom (Number of Observations) for 
#'        covariance matrix simulation.
#' @param omega Estimate of Covariance matrix.
#' @param n Number of Matricies to sample.  By default this is 1.
#' @param omegaIsChol is an indicator of if the omega matrix is in the cholesky decomposition. 
#' @param returnChol Return the cholesky decomposition of the covariance matrix sample.
#'
#' @return a matrix (n=1) or a list of matricies (n > 1)
#'
#' @author Matthew L.Fidler & Wenping Wang
#' 
#' @export
cvPost <- function(nu, omega, n = 1L, omegaIsChol = FALSE, returnChol = FALSE) {
    .Call(`_RxODE_cvPost`, nu, omega, n, omegaIsChol, returnChol)
}

#' Scaled Inverse Chi Squared distribution
#'
#' @param n Number of random samples
#' @param nu degrees of freedom of inverse chi square
#' @param scale  Scale of inverse chi squared distribution 
#'         (default is 1).
#' @return a vector of inverse chi squared deviates .
#' @export
rinvchisq <- function(n = 1L, nu = 1.0, scale = 1) {
    .Call(`_RxODE_rinvchisq`, n, nu, scale)
}

#' Simulate Parameters from a Theta/Omega specification
#'
#' @param params Named Vector of RxODE model parameters
#'
#' @param thetaMat Named theta matrix.
#'
#' @param thetaDf The degrees of freedom of a t-distribution for
#'     simulation.  By default this is \code{NULL} which is
#'     equivalent to \code{Inf} degrees, or to simulate from a normal
#'     distribution instead of a t-distribution.
#'
#' @param thetaIsChol Indicates if the \code{theta} supplied is a
#'     Cholesky decomposed matrix instead of the traditional
#'     symmetric matrix.
#'
#' @param nSub Number between subject variabilities (ETAs) simulated for every 
#'        realization of the parameters.
#'
#' @param omega Named omega matrix.
#'
#' @param omegaDf The degrees of freedom of a t-distribution for
#'     simulation.  By default this is \code{NULL} which is
#'     equivalent to \code{Inf} degrees, or to simulate from a normal
#'     distribution instead of a t-distribution.
#'
#' @param omegaIsChol Indicates if the \code{omega} supplied is a
#'     Cholesky decomposed matrix instead of the traditional
#'     symmetric matrix.
#'
#' @param nStud Number virtual studies to characterize uncertainty in estimated 
#'        parameters.
#'
#' @param nObs Number of observations to simulate (with \code{sigma} matrix)
#'
#' @param sigma Matrix for residual variation.  Adds a "NA" value for each of the 
#'     indivdual parameters, residuals are updated after solve is completed. 
#'
#' @inheritParams rxSolve
#'
#' @param dfSub Degrees of freedom to sample the between subject variaiblity matrix from the 
#'        inverse Wishart distribution (scaled) or scaled inverse chi squared distribution.
#'
#' @param dfObs Degrees of freedom to sample the unexplained variaiblity matrix from the 
#'        inverse Wishart distribution (scaled) or scaled inverse chi squared distribution. 
#'
#' @param simSubjects boolean indicated RxODE should simulate subjects in studies (\code{TRUE}, 
#'         default) or studies (\code{FALSE})
#'
#' @author Matthew L.Fidler
#'
#' @export
rxSimThetaOmega <- function(params = NULL, omega = NULL, omegaDf = NULL, omegaIsChol = FALSE, nSub = 1L, thetaMat = NULL, thetaDf = NULL, thetaIsChol = FALSE, nStud = 1L, sigma = NULL, sigmaDf = NULL, sigmaIsChol = FALSE, nCoresRV = 1L, nObs = 1L, dfSub = 0, dfObs = 0, simSubjects = TRUE) {
    .Call(`_RxODE_rxSimThetaOmega`, params, omega, omegaDf, omegaIsChol, nSub, thetaMat, thetaDf, thetaIsChol, nStud, sigma, sigmaDf, sigmaIsChol, nCoresRV, nObs, dfSub, dfObs, simSubjects)
}

#' Free the C solving information.
#'
#' Take the ODE C system and free it.
#'
#' @keywords internal
#' @export
rxSolveFree <- function() {
    .Call(`_RxODE_rxSolveFree`)
}

rxSolveCsmall <- function(object, specParams = NULL, extraArgs = NULL, params = NULL, events = NULL, inits = NULL, scale = NULL, covs = NULL, optsL = NULL) {
    .Call(`_RxODE_rxSolveCsmall`, object, specParams, extraArgs, params, events, inits, scale, covs, optsL)
}

rxSolveGet <- function(obj, arg, exact = TRUE) {
    .Call(`_RxODE_rxSolveGet`, obj, arg, exact)
}

rxSolveUpdate <- function(obj, arg = NULL, value = NULL) {
    .Call(`_RxODE_rxSolveUpdate`, obj, arg, value)
}

rxRmModelLib_ <- function(str) {
    invisible(.Call(`_RxODE_rxRmModelLib_`, str))
}

#' Get RxODE model from object
#' @param obj RxODE family of objects
#' @export
rxGetRxODE <- function(obj) {
    .Call(`_RxODE_rxGetRxODE`, obj)
}

#' Checks if the RxODE object was built with the current build
#'
#' @inheritParams rxModelVars
#'
#' @return boolean indicating if this was built with current RxODE
#'
#' @export
rxIsCurrent <- function(obj) {
    .Call(`_RxODE_rxIsCurrent`, obj)
}

#' Assign pointer based on model variables
#' @param object RxODE family of objects
#' @export
rxAssignPtr <- function(object = NULL) {
    invisible(.Call(`_RxODE_rxAssignPtr`, object))
}

#' Get the number of cores in a system
#' @export
rxCores <- function() {
    .Call(`_RxODE_rxCores`)
}

#' Return the DLL associated with the RxODE object
#'
#' This will return the dynamic load library or shared object used to
#' run the C code for RxODE.
#'
#' @param obj A RxODE family of objects or a character string of the
#'     model specification or location of a file with a model
#'     specification.
#'
#' @return a path of the library
#'
#' @keywords internal
#' @author Matthew L.Fidler
#' @export
rxDll <- function(obj) {
    .Call(`_RxODE_rxDll`, obj)
}

#' Return the C file associated with the RxODE object
#'
#' This will return C code for generating the RxODE DLL.
#'
#' @param obj A RxODE family of objects or a character string of the
#'     model specification or location of a file with a model
#'     specification.
#'
#' @return a path of the library
#'
#' @keywords internal
#' @author Matthew L.Fidler
#' @export
rxC <- function(obj) {
    .Call(`_RxODE_rxC`, obj)
}

#' Determine if the DLL associated with the RxODE object is loaded
#'
#' @param obj A RxODE family of objects 
#'
#' @return Boolean returning if the RxODE library is loaded.
#'
#' @keywords internal
#' @author Matthew L.Fidler
#' @export
rxIsLoaded <- function(obj) {
    .Call(`_RxODE_rxIsLoaded`, obj)
}

#' Load RxODE object
#'
#' @param obj A RxODE family of objects 
#'
#' @return Boolean returning if the RxODE library is loaded.
#'
#' @keywords internal
#' @author Matthew L.Fidler
#' @export
rxDynLoad <- function(obj) {
    .Call(`_RxODE_rxDynLoad`, obj)
}

#' Unload RxODE object
#'
#' @param obj A RxODE family of objects 
#'
#' @return Boolean returning if the RxODE library is loaded.
#'
#' @keywords internal
#' @author Matthew L.Fidler
#' @export
rxDynUnload <- function(obj) {
    .Call(`_RxODE_rxDynUnload`, obj)
}

#' Delete the DLL for the model
#'
#' This function deletes the DLL, but doesn't delete the model
#' information in the object.
#'
#' @param obj RxODE family of objects
#'
#' @return A boolean stating if the operation was successful.
#'
#' @author Matthew L.Fidler
#' @export
rxDelete <- function(obj) {
    .Call(`_RxODE_rxDelete`, obj)
}

setRstudio <- function(isRstudio = FALSE) {
    .Call(`_RxODE_setRstudio`, isRstudio)
}

#' Invert matrix using Rcpp Armadilo.  
#'
#' @param matrix matrix to be inverted.
#' @return inverse or pseudo inverse of matrix.
#' @export
rxInv <- function(matrix) {
    .Call(`_RxODE_rxInv`, matrix)
}

rxToOmega <- function(cholMat) {
    .Call(`_RxODE_rxToOmega`, cholMat)
}

#' Get Omega^-1 and derivatives
#'
#' @param invObjOrMatrix Object for inverse-type calculations.  If this is a matrix,
#'     setup the object for inversion by \code{\link{rxSymInvCholCreate}} with the default arguments and return
#'     a reactive s3 object.  Otherwise, use the inversion object to calculate the requested derivative/inverse.
#' @param theta Thetas to be used for calculation.  If missing (\code{NULL}), a
#'     special s3 class is created and returned to access Omega^1
#'     objects as needed and cache them based on the theta that is
#'     used.
#' @param type The type of object.  Currently the following types are
#'     supported:
#' \itemize{
#' \item \code{cholOmegaInv} gives the
#'     Cholesky decomposition of the Omega Inverse matrix.
#' \item \code{omegaInv} gives the Omega Inverse matrix.
#' \item \code{d(omegaInv)} gives the d(Omega^-1) withe respect to the
#'     theta parameter specified in \code{thetaNumber}.
#' \item \code{d(D)} gives the d(diagonal(Omega^-1)) with respect to
#'     the theta parameter specified in the \code{thetaNumber}
#'     parameter
#' }
#' @param thetaNumber For types \code{d(omegaInv)} and \code{d(D)},
#'     the theta number that the derivative is taken against.  This
#'     must be positive from 1 to the number of thetas defining the
#'     Omega matrix.
#' @return Matrix based on parameters or environment with all the
#'     matrixes calculated in variables omega, omegaInv, dOmega,
#'     dOmegaInv.
#' @author Matthew L. Fidler
#' @export
rxSymInvChol <- function(invObjOrMatrix, theta = NULL, type = "cholOmegaInv", thetaNumber = 0L) {
    .Call(`_RxODE_rxSymInvChol`, invObjOrMatrix, theta, type, thetaNumber)
}

rxSymInvCholEnvCalculate <- function(obj, what, theta = NULL) {
    .Call(`_RxODE_rxSymInvCholEnvCalculate`, obj, what, theta)
}

removableDrive <- function(driveRoot) {
    .Call(`_RxODE_removableDrive`, driveRoot)
}

